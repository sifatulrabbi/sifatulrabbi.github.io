@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
    --primary-400: #38bdf8;
    --primary-500: #0ea5e9;
    --primary-600: #0284c7;
    --accent-purple: #a855f7;
    --accent-cyan: #06b6d4;
    --accent-violet: #8b5cf6;
}

html {
    height: -webkit-fill-available !important;
    scroll-behavior: smooth;
}

*,
*::after,
*::before {
    box-sizing: border-box;
}

/* Custom scrollbar - Cross-browser support */
/* Firefox */
* {
    scrollbar-width: thin;
    scrollbar-color: #334155 #0f172a; /* slate-700 slate-900 */
}

/* Webkit browsers (Chrome, Safari, Edge) */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    @apply bg-slate-900;
}

::-webkit-scrollbar-thumb {
    @apply bg-slate-700;
    border-radius: 10px;
    transition: background-color 0.3s ease;
}

::-webkit-scrollbar-thumb:hover {
    @apply bg-primary-500;
}

/* For Firefox - dynamic color change on hover (limited support) */
*:hover {
    scrollbar-color: #0ea5e9 #0f172a; /* primary-500 slate-900 */
}

body {
    font-size: 16px;
    line-height: 1.7;
    @apply max-w-full overflow-x-hidden;

    &[data-theme="light"] {
        @apply font-body bg-gradient-to-br from-slate-50 to-slate-100 text-slate-800 max-w-full overflow-x-hidden;
    }

    &[data-theme="dark"] {
        @apply font-body bg-slate-950 text-slate-300;
        background-image: radial-gradient(at 0% 0%, rgba(139, 92, 246, 0.08) 0px, transparent 50%),
                          radial-gradient(at 100% 100%, rgba(6, 182, 212, 0.08) 0px, transparent 50%);
    }
}

h1,
h2,
h3,
h4,
h5,
h6 {
    @apply font-display font-semibold;
    line-height: 1.3;
}

h1 {
    @apply text-4xl md:text-5xl lg:text-6xl;
}

h2 {
    @apply text-3xl md:text-4xl;
}

h3 {
    @apply text-2xl md:text-3xl;
}

.truncate {
    width: 100%;
    max-width: 100% !important;
    max-height: 100%;
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

.truncate-3 {
    @extend .truncate;
    -webkit-line-clamp: 3;
}

.display-content {
    @apply prose max-w-full prose-slate;

    &.display-content-large {
        @apply prose-lg;
    }

    &.display-content-dark {
        @apply prose-invert prose-p:text-slate-200 prose-ul:text-slate-200 prose-strong:text-slate-200 prose-pre:bg-slate-900 prose-h2:text-slate-200;
    }
}

.display-content > img {
    width: 100%;
    height: auto;
    background-size: cover;
}

.display-content-muted {
    @apply prose prose-sm prose-invert max-w-full prose-slate prose-p:text-slate-300 prose-ul:text-slate-300 prose-strong:text-slate-300 prose-pre:bg-slate-900 prose-h2:text-slate-300;

    &.error {
        color: #b91c1c !important;
    }
}

@keyframes beating-colors {
    0%,
    100% {
        color: var(--accent-violet);
        scale: 1.15;
        filter: drop-shadow(0 0 8px rgba(139, 92, 246, 0.5));
    }
    50% {
        color: var(--accent-cyan);
        scale: 1;
        filter: drop-shadow(0 0 4px rgba(6, 182, 212, 0.3));
    }
}
.beating-colors {
    animation: beating-colors 1.5s ease-in-out infinite forwards;
}

@keyframes indicator-anim {
    from {
        left: -20px;
    }
    to {
        left: 120%;
    }
}
.hero-enter-btn {
    position: absolute;
    left: -20px;
    animation: indicator-anim 10s linear infinite;
}

@keyframes cursor-blink {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}
.cursor-blink {
    animation: cursor-blink 1s infinite;
}

/* Modern Glassmorphism Components */
@layer components {
    .glass-card {
        @apply bg-slate-800/40 backdrop-blur-xl border border-slate-700/50 rounded-2xl;
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    }

    .glass-card-light {
        @apply bg-white/60 backdrop-blur-xl border border-slate-200/80 rounded-2xl;
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
    }

    .glass-hover {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        will-change: transform, box-shadow, border-color;
    }

    .glass-hover:hover {
        @apply border-primary-500/50 shadow-glow;
        transform: translateY(-4px) scale(1.02);
    }

    .glass-hover:not(:hover) {
        will-change: auto; /* Remove will-change when not needed */
    }

    .gradient-text {
        @apply bg-clip-text text-transparent bg-gradient-to-r from-primary-400 via-accent-violet to-accent-cyan;
    }

    .gradient-text-alt {
        @apply bg-clip-text text-transparent bg-gradient-to-r from-accent-purple via-accent-pink to-accent-violet;
    }

    .btn-modern {
        @apply px-6 py-3 rounded-xl font-medium transition-all duration-300;
        @apply bg-gradient-to-r from-primary-500 to-accent-violet;
        @apply hover:shadow-glow hover:scale-105;
        @apply active:scale-95;
        will-change: transform, box-shadow;
    }

    .btn-modern:not(:hover):not(:active) {
        will-change: auto;
    }

    .btn-outline-modern {
        @apply px-6 py-3 rounded-xl font-medium transition-all duration-300;
        @apply border-2 border-primary-500 text-primary-400;
        @apply hover:bg-primary-500 hover:text-white hover:shadow-primary;
        @apply active:scale-95;
        will-change: transform, background-color, color, box-shadow;
    }

    .btn-outline-modern:not(:hover):not(:active) {
        will-change: auto;
    }

    .card-modern {
        @apply glass-card p-6 transition-all duration-300;
        @apply hover:border-primary-500/70 hover:shadow-primary;
    }

    .section-container {
        @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-20;
    }

    .floating-element {
        animation: float 6s ease-in-out infinite;
        will-change: transform;
    }
}

/* Modern Badge/Tag Styles */
.tag-modern {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-medium;
    @apply bg-gradient-to-r from-primary-500/20 to-accent-violet/20;
    @apply border border-primary-500/30 text-primary-300;
    @apply transition-all duration-300;
}

.tag-modern:hover {
    @apply border-primary-400 bg-gradient-to-r from-primary-500/30 to-accent-violet/30;
    @apply shadow-glow;
}

/* Performance optimizations for animations */
.animate-fade-in {
    will-change: opacity;
}

.animate-slide-up,
.animate-slide-down {
    will-change: transform, opacity;
}

.animate-scale-in {
    will-change: transform, opacity;
}

.animate-float {
    will-change: transform;
}

.animate-glow-pulse {
    will-change: box-shadow;
}

/* Remove will-change after animation completes */
.animate-fade-in,
.animate-slide-up,
.animate-slide-down,
.animate-scale-in {
    animation-fill-mode: forwards;
}

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        will-change: auto !important;
    }
}

/* Enhanced Focus Styles */
*:focus-visible {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2 ring-offset-slate-900;
    border-radius: 0.5rem;
}

/* Improved Link Styles */
a {
    @apply transition-colors duration-200;
}

a:not(.no-style):hover {
    @apply text-primary-400;
}
